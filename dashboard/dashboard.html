 <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <div class="greeting">
                    <h1>Hello {{userName}}</h1>
                </div>
                <div class="header-actions">
                    <div class="nav-links">
                        <a href="/dashboard/insights.html">Insight</a>
                        <a href="/dashboard/suggestions.html">Suggestions</a>
                        <a href="/dashboard/about.html">About Us</a>    
                        <!-- Profile Link (With Icon and Name) -->
                        <a href="profile/profile.html" class="profile-link">
                            <i class="fas fa-user-circle"></i> Profile
                        </a> 
                        <!-- Logout Link -->
                        <a href="#logout" ng-click="customer_logout()">Logout</a>
                    </div>
                </div>
            </div>

            <div class="content">
                <!-- Top Section -->
                <div class="top-section">
                    <!-- Total Balance -->
                    <!-- REPLACE YOUR EXISTING "Total Balance" CARD WITH THIS -->
                <!-- REPLACE YOUR EXISTING "Total Balance" CARD WITH THIS -->

                <div class="card">
                    <div class="card-header">
                        <span class="card-title">Total Balance</span>
                    </div>
                    
                    <!-- Dynamic Balance Amount -->
                    <div class="balance-amount">${{formatCurrency(stats.total)}}</div>
                    <div class="balance-label">All Accounts</div>
                    
                    <!-- Account Summary Card -->
                    <div class="credit-card">
                        <div class="card-type">Account Summary</div>
                        <div class="card-name">{{userName}}'s Account</div>
                        
                        <!-- Transaction Stats -->
                        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                            <div>
                                <div style="font-size: 11px; opacity: 0.8;">Total Deposits</div>
                                <div style="font-size: 16px; font-weight: 600;">₹{{formatCurrency(stats.deposit)}}</div>
                            </div>
                            <div style="text-align: right;">
                                <div style="font-size: 11px; opacity: 0.8;">Total Expenses</div>
                                <div style="font-size: 16px; font-weight: 600;">₹{{formatCurrency(stats.expense)}}</div>
                            </div>
                        </div>
                        
                        <div class="card-bottom">
                            <div class="card-balance">₹{{formatCurrency(stats.total)}}</div>
                            <div class="card-logo">
                                <div class="circle red"></div>
                                <div class="circle orange"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Navigation Dots -->
                    <div class="card-nav">
                        <span style="color: #2dd4bf; cursor: pointer;">← Previous</span>
                        <div style="display: flex; gap: 5px; margin: 0 auto;">
                            <div class="dot active"></div>
                            <div class="dot"></div>
                            <div class="dot"></div>
                        </div>
                        <span class="nav-arrow">Next →</span>
                    </div>
                </div>

                    <!-- Goals -->
                    <!-- REPLACE YOUR EXISTING "Goals" CARD WITH THIS -->

                         <!-- REPLACE YOUR EXISTING "Goals" CARD WITH THIS -->

                   <!-- REPLACE YOUR "Goals" CARD WITH THIS -->

                    <div class="card">
                        <div class="card-header">
                            <span class="card-title">Financial Health</span>
                            <span style="color: #a0aec0; font-size: 13px;">Current Status</span>
                        </div>
                        
                        <!-- Show Net Balance (after expenses) -->
                        <div class="goal-amount">
                            ₹{{stats.total | number:2}}
                            <i class="fas fa-info-circle" style="font-size: 14px; color: #a0aec0; cursor: pointer;" 
                            title="Net balance after expenses"></i>
                        </div>
                        
                        <!-- Dynamic Progress Ring -->
                        <div class="progress-ring">
                            <svg width="120" height="120">
                                <!-- Background circle -->
                                <circle class="progress-ring-circle" cx="60" cy="60" r="45"></circle>
                                <!-- Progress circle - changes based on expenses -->
                                <circle class="progress-ring-progress" 
                                        cx="60" cy="60" r="45"
                                        ng-style="{'stroke-dashoffset': getStrokeDashoffset()}"
                                        ng-class="{'expense-warning': getProgressPercentage() < 30, 'expense-danger': getProgressPercentage() < 10}"></circle>
                            </svg>
                            <!-- Show percentage remaining -->
                            <div class="progress-text">
                                {{getProgressPercentage().toFixed(0)}}%
                            </div>
                        </div>
                        
                        <div class="goal-footer">
                            <span ng-if="getProgressPercentage() >= 70" style="color: #10b981;">
                                <i class="fas fa-check-circle"></i> Healthy Balance
                            </span>
                            <span ng-if="getProgressPercentage() >= 30 && getProgressPercentage() < 70" style="color: #f59e0b;">
                                <i class="fas fa-exclamation-triangle"></i> Moderate Spending
                            </span>
                            <span ng-if="getProgressPercentage() < 30" style="color: #ef4444;">
                                <i class="fas fa-exclamation-circle"></i> High Expenses
                            </span>
                        </div>
                        
                        <!-- Goal Info with Real Data -->
                        <div class="goal-info">
                            <div class="goal-metric">
                                <div class="goal-metric-value">
                                    <i class="fas fa-arrow-down" style="color: #10b981;"></i>
                                    ₹{{stats.deposit | number:2}}
                                </div>
                                <div class="goal-metric-label">Total Income</div>
                            </div>
                            <div class="goal-metric">
                                <div class="goal-metric-value">
                                    <i class="fas fa-arrow-up" style="color: #ef4444;"></i>
                                    ₹{{stats.expense | number:2}}
                                </div>
                                <div class="goal-metric-label">Total Spent</div>
                            </div>
                        </div>
                    </div>


                    <!-- Upcoming Bill -->
                    <div class="card">
                        <div class="card-header">
                            <span class="card-title">Upcoming Bill</span>
                            <span class="view-all">View All <i class="fas fa-chevron-right"></i></span>
                        </div>
                        
                        <div class="bill-item">
                            <div class="bill-date">
                                <div class="bill-day">15</div>
                                <div class="bill-month">May</div>
                            </div>
                            <div class="bill-icon">
                                <i class="fas fa-shopping-bag" style="color: #ef4444;"></i>
                            </div>
                            <div class="bill-info">
                                <div class="bill-company">Figma</div>
                                <div class="bill-type">Figma - Monthly</div>
                                <div style="font-size: 11px; color: #a0aec0; margin-top: 2px;">Last Charge - 14 May, 2022</div>
                            </div>
                            <div class="bill-amount">$150</div>
                        </div>

                        <div class="bill-item">
                            <div class="bill-date">
                                <div class="bill-day">16</div>
                                <div class="bill-month">Jun</div>
                            </div>
                            <div class="bill-icon">
                                <i class="fas fa-film" style="color: #ef4444;"></i>
                            </div>
                            <div class="bill-info">
                                <div class="bill-company">Adobe</div>
                                <div class="bill-type">Adobe - Yearly</div>
                                <div style="font-size: 11px; color: #a0aec0; margin-top: 2px;">Last Charge - 17 Jun, 2023</div>
                            </div>
                            <div class="bill-amount">$559</div>
                        </div>
                    </div>
                </div>

                <!-- This creates a nice financial summary bar -->

                            <div class="financial-summary">
                <div class="summary-card total">
                    <div class="summary-icon">
                        <i class="fas fa-wallet"></i>
                    </div>
                    <div class="summary-info">
                        <div class="summary-label">Total Balance</div>
                        <div class="summary-amount" ng-class="stats.total >= 0 ? 'positive' : 'negative'">
                            ₹{{formatCurrency(stats.total)}}
                        </div>
                        <div class="summary-change" ng-if="stats.total >= 0" style="color: #10b981;">
                            <i class="fas fa-arrow-up"></i> Healthy Balance
                        </div>
                        <div class="summary-change" ng-if="stats.total < 0" style="color: #ef4444;">
                            <i class="fas fa-arrow-down"></i> Deficit
                        </div>
                    </div>
                </div>

                <div class="summary-card deposits">
                    <div class="summary-icon" style="background: #d1fae5;">
                        <i class="fas fa-arrow-down" style="color: #10b981;"></i>
                    </div>
                    <div class="summary-info">
                        <div class="summary-label">Total Deposits</div>
                        <div class="summary-amount positive">₹{{formatCurrency(stats.deposit)}}</div>
                        <div class="summary-change" style="color: #64748b;">
                            Money In
                        </div>
                    </div>
                </div>

                <div class="summary-card expenses">
                    <div class="summary-icon" style="background: #fee2e2;">
                        <i class="fas fa-arrow-up" style="color: #ef4444;"></i>
                    </div>
                    <div class="summary-info">
                        <div class="summary-label">Total Expenses</div>
                        <div class="summary-amount negative">₹{{formatCurrency(stats.expense)}}</div>
                        <div class="summary-change" style="color: #64748b;">
                            Money Out
                        </div>
                    </div>
                </div>

                <div class="summary-card transactions">
                    <div class="summary-icon" style="background: #dbeafe;">
                        <i class="fas fa-exchange-alt" style="color: #2dd4bf;"></i>
                    </div>
                    <div class="summary-info">
                        <div class="summary-label">Transactions</div>
                        <div class="summary-amount" style="color: #2dd4bf;">{{transactions.length}}</div>
                        <div class="summary-change" style="color: #64748b;">
                            Total Count
                        </div>
                    </div>
                </div>
            </div>


        

                <!-- Middle Section -->
                <div class="middle-section">
                    <!-- Recent Transactions -->
                <div class="card">
    <div class="card-header">
        <span class="card-title">Recent Transaction</span>
        <button class="add-transaction-btn" ng-click="toggleAddForm()" ng-disabled="loading">
            <i class="fas" ng-class="showAddForm ? 'fa-times' : 'fa-plus'"></i>
            <span ng-if="!showAddForm">Add Transaction</span>
            <span ng-if="showAddForm">Cancel</span>
        </button>
    </div>
    
    <!-- Add Transaction Form -->
    <div class="transaction-form" ng-show="showAddForm">
        <h3 style="margin-bottom: 20px; color: #1a202c;">New Transaction</h3>
        
        <div class="form-group">
            <label>Transaction Type *</label>
            <select ng-model="newTransaction.transactionType" ng-disabled="loading">
                <option value="credit">Credit (Money In / Deposit)</option>
                <option value="debit">Debit (Money Out / Expense)</option>
            </select>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label>Amount (₹) *</label>
                <input type="number" 
                       ng-model="newTransaction.amount" 
                       placeholder="0.00"
                       step="0.01"
                       min="0"
                       ng-disabled="loading">
            </div>

            <div class="form-group" ng-show="newTransaction.transactionType === 'credit'">
                <label>Deposit Type</label>
                <select ng-model="newTransaction.deposite_type" ng-disabled="loading">
                    <option value="salary">Salary</option>
                    <option value="bonus">Bonus</option>
                    <option value="investment">Investment</option>
                    <option value="freelance">Freelance</option>
                    <option value="gift">Gift</option>
                    <option value="other">Other</option>
                </select>
            </div>

            <div class="form-group" ng-show="newTransaction.transactionType === 'debit'">
                <label>Expense Type</label>
                <select ng-model="newTransaction.expense_type" ng-disabled="loading">
                    <option value="food">Food</option>
                    <option value="transport">Transport</option>
                    <option value="shopping">Shopping</option>
                    <option value="bills">Bills</option>
                    <option value="entertainment">Entertainment</option>
                    <option value="health">Health</option>
                    <option value="education">Education</option>
                    <option value="other">Other</option>
                </select>
            </div>
        </div>
        
        <div class="form-group">
            <label>Description *</label>
            <textarea ng-model="newTransaction.description" 
                      placeholder="e.g., Monthly salary, Grocery shopping, etc."
                      rows="2"
                      ng-disabled="loading"></textarea>
        </div>
        
        <div class="form-actions">
            <button class="btn btn-secondary" 
                    ng-click="toggleAddForm()" 
                    ng-disabled="loading">
                Cancel
            </button>
            <button class="btn btn-primary" 
                    ng-click="addTransaction()" 
                    ng-disabled="loading">
                <span ng-if="!loading">Add Transaction</span>
                <span ng-if="loading">
                    <span class="loading-spinner"></span> Adding...
                </span>
            </button>
        </div>
    </div>
    
    <div class="transaction-tabs">
        <div class="tab active">All</div>
        <div class="tab">Deposits</div>
        <div class="tab">Expenses</div>
    </div>

    <!-- Loading State -->
    <div ng-if="loading && transactions.length === 0" style="text-align: center; padding: 40px;">
        <i class="fas fa-spinner fa-spin" style="font-size: 32px; color: #2dd4bf;"></i>
        <p style="margin-top: 10px; color: #a0aec0;">Loading transactions...</p>
    </div>

    <!-- No Transactions State -->
    <div ng-if="!loading && transactions.length === 0" class="no-transactions">
        <i class="fas fa-receipt" style="font-size: 48px; color: #e2e8f0; margin-bottom: 15px;"></i>
        <p style="font-weight: 600; margin-bottom: 5px;">No transactions yet</p>
        <p style="font-size: 14px;">Click "Add Transaction" to create your first transaction!</p>
    </div>

    <!-- Transactions Table -->
    <table ng-if="transactions.length > 0">
        <thead>
            <tr>
                <th>Transaction ID</th>
                <th>Description</th>
                <th>Type</th>
                <th>Category</th>
                <th>Amount</th>
                <th>Time</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="transaction in transactions">
                <td>{{transaction.transaction_id}}</td>
                <td>{{transaction.description}}</td>
                <td>
                    <span class="type-indicator" 
                          ng-class="transaction.type === 'Credit' ? 'type-credit' : 'type-debit'">
                        {{transaction.type}}
                    </span>
                </td>
                <td style="text-transform: capitalize;">
                    {{transaction.type === 'Credit' ? transaction.deposite_type : transaction.expense_type}}
                </td>
                <td ng-class="transaction.type === 'Credit' ? 'amount-credit' : 'amount-debit'">
                    {{transaction.type === 'Credit' ? '+' : '-'}}₹{{transaction.amount | number:2}}
                </td>
                <td>{{transaction.time}}</td>
            </tr>
        </tbody>
    </table>
</div>   
                </div>

                <!-- Bottom Section - Expenses Breakdown -->
                                <div class="bottom-section">
                    <div class="card-header">
                        <span class="card-title">Expenses Breakdown</span>
                        <span style="color: #a0aec0; font-size: 13px;">
                            Total: ₹{{stats.expense | number:2}}
                        </span>
                    </div>

                    <!-- Loading State -->
                    <div ng-if="loading" style="text-align: center; padding: 40px;">
                        <i class="fas fa-spinner fa-spin" style="font-size: 32px; color: #2dd4bf;"></i>
                        <p style="margin-top: 10px; color: #a0aec0;">Loading expenses...</p>
                    </div>

                    <!-- No Expenses State -->
                    <div ng-if="!loading && expenseBreakdown.length === 0" style="text-align: center; padding: 40px;">
                        <i class="fas fa-smile" style="font-size: 48px; color: #10b981; margin-bottom: 15px;"></i>
                        <p style="font-weight: 600; color: #10b981;">No expenses yet!</p>
                        <p style="font-size: 14px; color: #a0aec0; margin-top: 5px;">Start tracking your spending</p>
                    </div>

                    <!-- Expense Cards Grid -->
                    <div class="expenses-grid" ng-if="!loading && expenseBreakdown.length > 0">
                        <div class="expense-card" ng-repeat="expense in expenseBreakdown">
                            <div class="expense-header">
                                <div class="expense-icon">
                                    <i class="fas {{getCategoryIcon(expense.category)}}" style="color: #a0aec0;"></i>
                                </div>
                                <div class="expense-arrow">
                                    <i class="fas fa-arrow-right"></i>
                                </div>
                            </div>
                            <div class="expense-category" style="text-transform: capitalize;">
                                {{expense.category}}
                            </div>
                            <div class="expense-amount">₹{{expense.amount | number:2}}</div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 5px;">
                                <div class="expense-change" ng-class="expense.change.direction">
                                    <span>{{expense.percentage}}%</span>
                                    <i class="fas" ng-class="expense.change.direction === 'increase' ? 'fa-arrow-up' : 'fa-arrow-down'"></i>
                                </div>
                                <div style="font-size: 11px; color: #a0aec0;">
                                    {{expense.count}} transaction{{expense.count > 1 ? 's' : ''}}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>